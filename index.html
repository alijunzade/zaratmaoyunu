<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 16.0px 0.0px; font: 12.0px Helvetica; color: #181818; -webkit-text-stroke: #181818}
    p.p2 {margin: 0.0px 0.0px 8.0px 0.0px; font: 12.0px Helvetica; color: #181818; -webkit-text-stroke: #181818}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #343736; -webkit-text-stroke: #343736}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; font: 24.0px Helvetica; color: #343736; -webkit-text-stroke: #343736; min-height: 29.0px}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #164fc7; -webkit-text-stroke: #164fc7; background-color: #ecf1f7}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #343736; -webkit-text-stroke: #343736; background-color: #ecf1f7}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #cd1a1d; -webkit-text-stroke: #cd1a1d; background-color: #ecf1f7}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #18702b; -webkit-text-stroke: #18702b; background-color: #ecf1f7}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #343736; -webkit-text-stroke: #343736; background-color: #ecf1f7; min-height: 17.0px}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #4d5055; -webkit-text-stroke: #4d5055; background-color: #ecf1f7}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #6f0ec3; -webkit-text-stroke: #6f0ec3; background-color: #ecf1f7}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #865603; -webkit-text-stroke: #865603; background-color: #ecf1f7}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #a4450b; -webkit-text-stroke: #a4450b; background-color: #ecf1f7}
    p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #181818; -webkit-text-stroke: #181818; background-color: #ecf1f7}
    li.li2 {margin: 0.0px 0.0px 8.0px 0.0px; font: 12.0px Helvetica; color: #181818; -webkit-text-stroke: #181818}
    span.s1 {font-kerning: none}
    span.s2 {-webkit-text-stroke: 0px #000000}
    span.s3 {font-kerning: none; background-color: #ecf1f7}
    span.s4 {font-kerning: none; color: #cd1a1d; -webkit-text-stroke: 0px #cd1a1d}
    span.s5 {font-kerning: none; color: #a4450b; -webkit-text-stroke: 0px #a4450b}
    span.s6 {font-kerning: none; color: #18702b; -webkit-text-stroke: 0px #18702b}
    span.s7 {font-kerning: none; color: #343736; -webkit-text-stroke: 0px #343736}
    span.s8 {font-kerning: none; color: #6f0ec3; -webkit-text-stroke: 0px #6f0ec3}
    span.s9 {font-kerning: none; color: #4d5055; -webkit-text-stroke: 0px #4d5055}
    span.s10 {font-kerning: none; color: #164fc7; -webkit-text-stroke: 0px #164fc7}
    span.s11 {font-kerning: none; color: #865603; -webkit-text-stroke: 0px #865603}
    span.s12 {font-kerning: none; color: #181818; -webkit-text-stroke: 0px #181818}
    ul.ul1 {list-style-type: disc}
  </style>
</head>
<body>
<p class="p1"><span class="s1">Harika, sorunu tespit ettim!</span></p>
<p class="p2"><span class="s1"><b>HatanÄ±n Sebebi:</b> Haritadaki oyuncu alanÄ±nÄ± hesaplarken performansÄ± korumak iÃ§in "Ã¶rnekleme" (her 400. pikseli sayma) yapÄ±yorduk. Ancak Ã§izim yaptÄ±ÄŸÄ±n zaman kalem "gerÃ§ek piksel sayÄ±sÄ±nÄ±" (raw pixels) hesaplÄ±yor.</span></p>
<ul class="ul1">
  <li class="li2"><span class="s2"><i></i></span><span class="s1"><i>Ã–rnek:</i> Senin 80.000 birimlik alanÄ±n varken, oyun bunu Ã¶rnekleme yÃ¼zÃ¼nden 2.000 gibi gÃ¶rÃ¼yordu. Sen 5.000'lik bir Ã§izim yapÄ±nca "Hoppala, senin o kadar yerin yok!" diyordu.</span></li>
</ul>
<p class="p1"><span class="s1"><b>Ã‡Ã¶zÃ¼m:</b> Hesaplama algoritmasÄ±nÄ± dÃ¼zelttim. ArtÄ±k senin alanÄ±nÄ± ve Ã§izdiÄŸin alanÄ± aynÄ± matematiksel birimde (GerÃ§ek Piksel) hesaplÄ±yor. BÃ¶ylece <b>tam olarak sahip olduÄŸun alan kadar</b> (ne eksik ne fazla) seÃ§im yapabileceksin.</span></p>
<p class="p1"><span class="s1">AyrÄ±ca <b>1-6 Zar MantÄ±ÄŸÄ±nÄ±</b> kodun kalbine iÅŸledim.</span></p>
<p class="p1"><span class="s1">Ä°ÅŸte <b>Bug-Free (HatasÄ±z)</b>, DÃ¼nya HaritalÄ± ve tam istediÄŸin kurallara sahip versiyon:</span></p>
<p class="p3"><span class="s3">HTML</span></p>
<p class="p4"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"></span><br></p>
<p class="p5"><span class="s1">&lt;!DOCTYPE <b>html</b>&gt;</span></p>
<p class="p6"><span class="s1">&lt;</span><span class="s4">html</span><span class="s1"> </span><span class="s5">lang</span><span class="s1">=</span><span class="s6">"tr"</span><span class="s1">&gt;</span></p>
<p class="p7"><span class="s7">&lt;</span><span class="s1">head</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;</span><span class="s4">meta</span><span class="s1"> </span><span class="s5">charset</span><span class="s1">=</span><span class="s6">"UTF-8"</span><span class="s1">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>&lt;</span><span class="s4">meta</span><span class="s7"> </span><span class="s5">name</span><span class="s7">=</span><span class="s1">"viewport"</span><span class="s7"> </span><span class="s5">content</span><span class="s7">=</span><span class="s1">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;</span><span class="s4">title</span><span class="s1">&gt;Boyama SavaÅŸlarÄ±: Global Risk&lt;/</span><span class="s4">title</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;</span><span class="s4">style</span><span class="s1">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">@import</span><span class="s7"> url(</span><span class="s1">'https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&amp;display=swap'</span><span class="s7">);</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">:root</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--bg-ocean: </span><span class="s5">#2c3e50</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--p1-color: </span><span class="s5">#ff7675</span><span class="s1">; </span><span class="s9">/* Pastel KÄ±rmÄ±zÄ± */</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--p2-color: </span><span class="s5">#74b9ff</span><span class="s1">; </span><span class="s9">/* Pastel Mavi */</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>--panel-bg: </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">255</span><span class="s1">, </span><span class="s5">255</span><span class="s1">, </span><span class="s5">255</span><span class="s1">, </span><span class="s5">0.95</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s4">body</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>margin: </span><span class="s5">0</span><span class="s1">; overflow: hidden; font-family: </span><span class="s6">'Fredoka'</span><span class="s1">, sans-serif;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>background: </span><span class="s10">linear-gradient</span><span class="s1">(</span><span class="s5">135deg</span><span class="s1">, </span><span class="s5">#1e272e</span><span class="s1"> </span><span class="s5">0%</span><span class="s1">, </span><span class="s5">#485460</span><span class="s1"> </span><span class="s5">100%</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>display: flex; flex-direction: column;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>height: </span><span class="s5">100vh</span><span class="s1">; user-select: none; touch-action: none;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">/* --- ÃœST GÃœÃ‡ BARI --- */</span></p>
<p class="p11"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">#tugOfWarBar</span><span class="s7"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>width: </span><span class="s5">100%</span><span class="s1">; height: </span><span class="s5">24px</span><span class="s1">; display: flex;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">5px</span><span class="s1"> </span><span class="s5">15px</span><span class="s1"> </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">); z-index: </span><span class="s5">50</span><span class="s1">; background: </span><span class="s5">#333</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#barP1</span><span class="s1"> { height: </span><span class="s5">100%</span><span class="s1">; background: </span><span class="s10">var</span><span class="s1">(--p1-color); width: </span><span class="s5">50%</span><span class="s1">; transition: width </span><span class="s5">0.6s</span><span class="s1"> </span><span class="s10">cubic-bezier</span><span class="s1">(</span><span class="s5">0.4</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">, </span><span class="s5">1</span><span class="s1">); display: flex; align-items: center; justify-content: flex-start; padding-left: </span><span class="s5">10px</span><span class="s1">; color: white; font-size: </span><span class="s5">11px</span><span class="s1">; white-space: nowrap; overflow: hidden; font-weight:bold;}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#barP2</span><span class="s1"> { height: </span><span class="s5">100%</span><span class="s1">; background: </span><span class="s10">var</span><span class="s1">(--p2-color); width: </span><span class="s5">50%</span><span class="s1">; transition: width </span><span class="s5">0.6s</span><span class="s1"> </span><span class="s10">cubic-bezier</span><span class="s1">(</span><span class="s5">0.4</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">, </span><span class="s5">1</span><span class="s1">); display: flex; align-items: center; justify-content: flex-end; padding-right: </span><span class="s5">10px</span><span class="s1">; color: </span><span class="s5">#333</span><span class="s1">; font-size: </span><span class="s5">11px</span><span class="s1">; white-space: nowrap; overflow: hidden; font-weight:bold;}</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">/* --- OYUN ALANI --- */</span></p>
<p class="p11"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">#gameLayout</span><span class="s7"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>display: flex; gap: </span><span class="s5">15px</span><span class="s1">; align-items: center; justify-content: center;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>flex-grow: </span><span class="s5">1</span><span class="s1">; padding: </span><span class="s5">15px</span><span class="s1">; width: </span><span class="s5">100%</span><span class="s1">; box-sizing: border-box;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p11"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">#canvasWrapper</span><span class="s7"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>flex-grow: </span><span class="s5">1</span><span class="s1">; height: </span><span class="s5">100%</span><span class="s1">; background: </span><span class="s5">#81ecec</span><span class="s1">; </span><span class="s9">/* Okyanus Rengi */</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>border-radius: </span><span class="s5">20px</span><span class="s1">; box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">10px</span><span class="s1"> </span><span class="s5">40px</span><span class="s1"> </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.4</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>position: relative; overflow: hidden; border: </span><span class="s5">6px</span><span class="s1"> solid </span><span class="s5">#fff</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s4">canvas</span><span class="s1"> { position: absolute; top: </span><span class="s5">0</span><span class="s1">; left: </span><span class="s5">0</span><span class="s1">; width: </span><span class="s5">100%</span><span class="s1">; height: </span><span class="s5">100%</span><span class="s1">; border-radius: </span><span class="s5">14px</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#uiCanvas</span><span class="s1"> { cursor: crosshair; }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">/* --- SAÄ PANEL --- */</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#sidePanel</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>width: </span><span class="s5">320px</span><span class="s1">; display: flex; flex-direction: column; gap: </span><span class="s5">10px</span><span class="s1">; height: </span><span class="s5">100%</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.info-card</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>background: </span><span class="s10">var</span><span class="s1">(--panel-bg); padding: </span><span class="s5">10px</span><span class="s1"> </span><span class="s5">15px</span><span class="s1">; border-radius: </span><span class="s5">15px</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">4px</span><span class="s1"> </span><span class="s5">10px</span><span class="s1"> </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">); transition: transform </span><span class="s5">0.2s</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>border-left: </span><span class="s5">6px</span><span class="s1"> solid </span><span class="s5">#ddd</span><span class="s1">; position: relative;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.player-card.active</span><span class="s1"> { transform: </span><span class="s10">scale</span><span class="s1">(</span><span class="s5">1.02</span><span class="s1">); border-color: gold </span><span class="s10">!important</span><span class="s1">; box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">0</span><span class="s1"> </span><span class="s5">20px</span><span class="s1"> </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">255</span><span class="s1">, </span><span class="s5">215</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">0.5</span><span class="s1">); }</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.card-content</span><span class="s1"> { display: flex; align-items: center; gap: </span><span class="s5">10px</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.flag</span><span class="s1"> { font-size: </span><span class="s5">26px</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.stats</span><span class="s1"> </span><span class="s4">h3</span><span class="s1"> { margin: </span><span class="s5">0</span><span class="s1">; font-size: </span><span class="s5">15px</span><span class="s1">; color: </span><span class="s5">#2d3436</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.stats</span><span class="s1"> </span><span class="s4">p</span><span class="s1"> { margin: </span><span class="s5">0</span><span class="s1">; font-size: </span><span class="s5">13px</span><span class="s1">; color: </span><span class="s5">#636e72</span><span class="s1">; font-weight: bold; }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.limit-bar-bg</span><span class="s1"> { width: </span><span class="s5">100%</span><span class="s1">; height: </span><span class="s5">6px</span><span class="s1">; background: </span><span class="s5">#eee</span><span class="s1">; border-radius: </span><span class="s5">3px</span><span class="s1">; margin-top: </span><span class="s5">5px</span><span class="s1">; overflow: hidden; border:</span><span class="s5">1px</span><span class="s1"> solid </span><span class="s5">#ccc</span><span class="s1">;}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.limit-bar-fill</span><span class="s1"> { height: </span><span class="s5">100%</span><span class="s1">; width: </span><span class="s5">0%</span><span class="s1">; background: </span><span class="s5">#00b894</span><span class="s1">; transition: width </span><span class="s5">0.1s</span><span class="s1">; }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#turnBadge</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>background: </span><span class="s5">#6c5ce7</span><span class="s1">; color: white; text-align: center; padding: </span><span class="s5">10px</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>border-radius: </span><span class="s5">12px</span><span class="s1">; font-size: </span><span class="s5">15px</span><span class="s1">; box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">4px</span><span class="s1"> </span><span class="s5">0</span><span class="s1"> </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">/* SONUÃ‡ KUTUSU */</span></p>
<p class="p11"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">#lastResultBox</span><span class="s7"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>background: white; padding: </span><span class="s5">10px</span><span class="s1">; border-radius: </span><span class="s5">15px</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>text-align: center; font-size: </span><span class="s5">13px</span><span class="s1">; color: </span><span class="s5">#555</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>min-height: </span><span class="s5">50px</span><span class="s1">; display: flex; align-items: center; justify-content: center; flex-direction: column;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>box-shadow: inset </span><span class="s5">0</span><span class="s1"> </span><span class="s5">0</span><span class="s1"> </span><span class="s5">10px</span><span class="s1"> </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.05</span><span class="s1">); border: </span><span class="s5">2px</span><span class="s1"> dashed </span><span class="s5">#ccc</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>transition: all </span><span class="s5">0.3s</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#lastResultBox</span><span class="s1"> </span><span class="s4">b</span><span class="s1"> { font-size: </span><span class="s5">16px</span><span class="s1">; display: block; margin-bottom: </span><span class="s5">2px</span><span class="s1">;}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#lastResultBox.win</span><span class="s1"> { background: </span><span class="s5">#dff9fb</span><span class="s1">; border-color: </span><span class="s5">#00b894</span><span class="s1">; color: </span><span class="s5">#009432</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#lastResultBox.lose</span><span class="s1"> { background: </span><span class="s5">#ffcccc</span><span class="s1">; border-color: </span><span class="s5">#d63031</span><span class="s1">; color: </span><span class="s5">#d63031</span><span class="s1">; }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">/* ZAR ALANI */</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#actionArea</span><span class="s1"> { margin-top: auto; text-align: center; position: relative; height: </span><span class="s5">130px</span><span class="s1">; }</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></span></p>
<p class="p11"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">.dice-container</span><span class="s7"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>position: absolute; top: -</span><span class="s5">30px</span><span class="s1">; left: </span><span class="s5">50%</span><span class="s1">; transform: </span><span class="s10">translateX</span><span class="s1">(-</span><span class="s5">50%</span><span class="s1">) </span><span class="s10">scale</span><span class="s1">(</span><span class="s5">1.3</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>perspective: </span><span class="s5">1000px</span><span class="s1">; width: </span><span class="s5">60px</span><span class="s1">; height: </span><span class="s5">60px</span><span class="s1">; z-index: </span><span class="s5">10</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.dice-box</span><span class="s1"> { width: </span><span class="s5">100%</span><span class="s1">; height: </span><span class="s5">100%</span><span class="s1">; position: relative; transform-style: preserve-</span><span class="s5">3</span><span class="s1">d; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.dice-face</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>position: absolute; width: </span><span class="s5">100%</span><span class="s1">; height: </span><span class="s5">100%</span><span class="s1">; background: white;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>border: </span><span class="s5">2px</span><span class="s1"> solid </span><span class="s5">#b2bec3</span><span class="s1">; border-radius: </span><span class="s5">10px</span><span class="s1">; display: flex;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>justify-content: center; align-items: center; font-size: </span><span class="s5">24px</span><span class="s1">; font-weight: bold;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>box-shadow: inset </span><span class="s5">0</span><span class="s1"> </span><span class="s5">0</span><span class="s1"> </span><span class="s5">8px</span><span class="s1"> </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">); color: </span><span class="s5">#2d3436</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.df1</span><span class="s1"> { transform: </span><span class="s10">translateZ</span><span class="s1">(</span><span class="s5">30px</span><span class="s1">); } </span><span class="s8">.df2</span><span class="s1"> { transform: </span><span class="s10">rotateY</span><span class="s1">(</span><span class="s5">180deg</span><span class="s1">) </span><span class="s10">translateZ</span><span class="s1">(</span><span class="s5">30px</span><span class="s1">); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.df3</span><span class="s1"> { transform: </span><span class="s10">rotateY</span><span class="s1">(</span><span class="s5">90deg</span><span class="s1">) </span><span class="s10">translateZ</span><span class="s1">(</span><span class="s5">30px</span><span class="s1">); } </span><span class="s8">.df4</span><span class="s1"> { transform: </span><span class="s10">rotateY</span><span class="s1">(-</span><span class="s5">90deg</span><span class="s1">) </span><span class="s10">translateZ</span><span class="s1">(</span><span class="s5">30px</span><span class="s1">); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.df5</span><span class="s1"> { transform: </span><span class="s10">rotateX</span><span class="s1">(</span><span class="s5">90deg</span><span class="s1">) </span><span class="s10">translateZ</span><span class="s1">(</span><span class="s5">30px</span><span class="s1">); } </span><span class="s8">.df6</span><span class="s1"> { transform: </span><span class="s10">rotateX</span><span class="s1">(-</span><span class="s5">90deg</span><span class="s1">) </span><span class="s10">translateZ</span><span class="s1">(</span><span class="s5">30px</span><span class="s1">); }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#rollBtn</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>position: absolute; bottom: </span><span class="s5">0</span><span class="s1">; left: </span><span class="s5">0</span><span class="s1">; width: </span><span class="s5">100%</span><span class="s1">; padding: </span><span class="s5">15px</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>border: none; border-radius: </span><span class="s5">15px</span><span class="s1">; background: </span><span class="s5">#dfe6e9</span><span class="s1">; color: </span><span class="s5">#636e72</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>font-size: </span><span class="s5">16px</span><span class="s1">; font-weight: bold; cursor: not-allowed; transition: all </span><span class="s5">0.3s</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#rollBtn.ready</span><span class="s1"> { background: </span><span class="s5">#0984e3</span><span class="s1">; color: white; cursor: pointer; box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">6px</span><span class="s1"> </span><span class="s5">0</span><span class="s1"> </span><span class="s5">#074f83</span><span class="s1">; animation: pulseBtn </span><span class="s5">1s</span><span class="s1"> infinite; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">#rollBtn:active</span><span class="s1"> { transform: </span><span class="s10">translateY</span><span class="s1">(</span><span class="s5">4px</span><span class="s1">); box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">2px</span><span class="s1"> </span><span class="s5">0</span><span class="s1"> </span><span class="s5">#074f83</span><span class="s1">; }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">/* MODALS */</span></p>
<p class="p11"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">.modal-overlay</span><span class="s7"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>position: fixed; top: </span><span class="s5">0</span><span class="s1">; left: </span><span class="s5">0</span><span class="s1">; width: </span><span class="s5">100%</span><span class="s1">; height: </span><span class="s5">100%</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>background: </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.85</span><span class="s1">); backdrop-filter: </span><span class="s10">blur</span><span class="s1">(</span><span class="s5">8px</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>display: flex; justify-content: center; align-items: center; z-index: </span><span class="s5">100</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>opacity: </span><span class="s5">0</span><span class="s1">; pointer-events: none; transition: opacity </span><span class="s5">0.3s</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.modal-overlay.active</span><span class="s1"> { opacity: </span><span class="s5">1</span><span class="s1">; pointer-events: all; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.modal-card</span><span class="s1"> { background: white; padding: </span><span class="s5">30px</span><span class="s1">; border-radius: </span><span class="s5">30px</span><span class="s1">; text-align: center; max-width: </span><span class="s5">500px</span><span class="s1">; width: </span><span class="s5">90%</span><span class="s1">; transform: </span><span class="s10">scale</span><span class="s1">(</span><span class="s5">0.8</span><span class="s1">); transition: transform </span><span class="s5">0.3s</span><span class="s1">; box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">20px</span><span class="s1"> </span><span class="s5">50px</span><span class="s1"> </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.5</span><span class="s1">); }</span></p>
<p class="p11"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">.modal-overlay.active</span><span class="s7"> </span><span class="s1">.modal-card</span><span class="s7"> { transform: </span><span class="s10">scale</span><span class="s7">(</span><span class="s5">1</span><span class="s7">); }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.setup-grid</span><span class="s1"> { display: grid; grid-template-columns: </span><span class="s5">1</span><span class="s1">fr </span><span class="s5">1</span><span class="s1">fr; gap: </span><span class="s5">15px</span><span class="s1">; margin: </span><span class="s5">20px</span><span class="s1"> </span><span class="s5">0</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.player-select</span><span class="s1"> { background: </span><span class="s5">#f8f9fa</span><span class="s1">; padding: </span><span class="s5">15px</span><span class="s1">; border-radius: </span><span class="s5">15px</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.primary-btn</span><span class="s1"> { background: </span><span class="s10">linear-gradient</span><span class="s1">(</span><span class="s5">45deg</span><span class="s1">, </span><span class="s5">#0984e3</span><span class="s1">, </span><span class="s5">#74b9ff</span><span class="s1">); color: white; border: none; padding: </span><span class="s5">12px</span><span class="s1"> </span><span class="s5">40px</span><span class="s1">; font-size: </span><span class="s5">18px</span><span class="s1">; border-radius: </span><span class="s5">50px</span><span class="s1">; cursor: pointer; box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">5px</span><span class="s1"> </span><span class="s5">15px</span><span class="s1"> </span><span class="s10">rgba</span><span class="s1">(</span><span class="s5">9</span><span class="s1">, </span><span class="s5">132</span><span class="s1">, </span><span class="s5">227</span><span class="s1">, </span><span class="s5">0.4</span><span class="s1">); }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.rules-box</span><span class="s1"> { text-align</span><span class="s8">:left</span><span class="s1">; font-size:</span><span class="s5">13px</span><span class="s1">; color:</span><span class="s5">#555</span><span class="s1">; background:</span><span class="s5">#f1f2f6</span><span class="s1">; padding:</span><span class="s5">15px</span><span class="s1">; border-radius:</span><span class="s5">10px</span><span class="s1">; margin-bottom:</span><span class="s5">20px</span><span class="s1">; line-height: </span><span class="s5">1.6</span><span class="s1">; border: </span><span class="s5">1px</span><span class="s1"> solid </span><span class="s5">#ddd</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.rule-row</span><span class="s1"> { display: flex; justify-content: space-between; border-bottom: </span><span class="s5">1px</span><span class="s1"> solid </span><span class="s5">#ddd</span><span class="s1">; padding: </span><span class="s5">3px</span><span class="s1"> </span><span class="s5">0</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.rule-win</span><span class="s1"> { color: </span><span class="s5">#009432</span><span class="s1">; font-weight: bold; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">.rule-lose</span><span class="s1"> { color: </span><span class="s5">#d63031</span><span class="s1">; font-weight: bold; }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">@keyframes</span><span class="s1"> pulseBtn { </span><span class="s5">0%</span><span class="s1"> { transform: </span><span class="s10">scale</span><span class="s1">(</span><span class="s5">1</span><span class="s1">); } </span><span class="s5">50%</span><span class="s1"> { transform: </span><span class="s10">scale</span><span class="s1">(</span><span class="s5">1.02</span><span class="s1">); } </span><span class="s5">100%</span><span class="s1"> { transform: </span><span class="s10">scale</span><span class="s1">(</span><span class="s5">1</span><span class="s1">); } }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">@media</span><span class="s1"> (max-width: </span><span class="s5">768px</span><span class="s1">) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">#gameLayout</span><span class="s1"> { flex-direction: column; height: auto; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">#sidePanel</span><span class="s1"> { width: </span><span class="s5">100%</span><span class="s1">; height: auto; flex-direction: column; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">#actionArea</span><span class="s1"> { height: </span><span class="s5">100px</span><span class="s1">; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">.dice-container</span><span class="s1"> { top: -</span><span class="s5">20px</span><span class="s1">; transform: </span><span class="s10">translateX</span><span class="s1">(-</span><span class="s5">50%</span><span class="s1">) </span><span class="s10">scale</span><span class="s1">(</span><span class="s5">1.2</span><span class="s1">); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;/</span><span class="s4">style</span><span class="s1">&gt;</span></p>
<p class="p7"><span class="s7">&lt;/</span><span class="s1">head</span><span class="s7">&gt;</span></p>
<p class="p7"><span class="s7">&lt;</span><span class="s1">body</span><span class="s7">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"setupModal"</span><span class="s7"> </span><span class="s5">class</span><span class="s7">=</span><span class="s1">"modal-overlay active"</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"modal-card"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">h1</span><span class="s1"> </span><span class="s5">style</span><span class="s1">=</span><span class="s6">"color:#2c3e50; margin:0;"</span><span class="s1">&gt;ğŸŒ Boyama SavaÅŸlarÄ±&lt;/</span><span class="s4">h1</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">p</span><span class="s1"> </span><span class="s5">style</span><span class="s1">=</span><span class="s6">"color:#7f8c8d;"</span><span class="s1">&gt;Risk ve Strateji&lt;/</span><span class="s4">p</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"setup-grid"</span><span class="s1">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">class</span><span class="s7">=</span><span class="s1">"player-select"</span><span class="s7"> </span><span class="s5">style</span><span class="s7">=</span><span class="s1">"border: 2px solid var(--p1-color);"</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">h4</span><span class="s1"> </span><span class="s5">style</span><span class="s1">=</span><span class="s6">"margin:0; color:#ff6b6b"</span><span class="s1">&gt;Oyuncu 1&lt;/</span><span class="s4">h4</span><span class="s1">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">style</span><span class="s7">=</span><span class="s1">"font-size:40px; margin:10px 0;"</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"p1FlagPreview"</span><span class="s7">&gt;â“&lt;/</span><span class="s4">div</span><span class="s7">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">select</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"p1Select"</span><span class="s7"> </span><span class="s5">onchange</span><span class="s7">=</span><span class="s1">"updatePreview('p1')"</span><span class="s7"> </span><span class="s5">style</span><span class="s7">=</span><span class="s1">"width:100%"</span><span class="s7">&gt;&lt;/</span><span class="s4">select</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">class</span><span class="s7">=</span><span class="s1">"player-select"</span><span class="s7"> </span><span class="s5">style</span><span class="s7">=</span><span class="s1">"border: 2px solid var(--p2-color);"</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">h4</span><span class="s1"> </span><span class="s5">style</span><span class="s1">=</span><span class="s6">"margin:0; color:#48dbfb"</span><span class="s1">&gt;Oyuncu 2&lt;/</span><span class="s4">h4</span><span class="s1">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">style</span><span class="s7">=</span><span class="s1">"font-size:40px; margin:10px 0;"</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"p2FlagPreview"</span><span class="s7">&gt;â“&lt;/</span><span class="s4">div</span><span class="s7">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">select</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"p2Select"</span><span class="s7"> </span><span class="s5">onchange</span><span class="s7">=</span><span class="s1">"updatePreview('p2')"</span><span class="s7"> </span><span class="s5">style</span><span class="s7">=</span><span class="s1">"width:100%"</span><span class="s7">&gt;&lt;/</span><span class="s4">select</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rules-box"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">style</span><span class="s1">=</span><span class="s6">"margin-bottom:5px; text-align:center;"</span><span class="s1">&gt;&lt;</span><span class="s4">b</span><span class="s1">&gt;ğŸ² ZAR SONUÃ‡LARI&lt;/</span><span class="s4">b</span><span class="s1">&gt;&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-row"</span><span class="s1">&gt;&lt;</span><span class="s4">span</span><span class="s1">&gt;1ï¸âƒ£&lt;/</span><span class="s4">span</span><span class="s1">&gt; &lt;</span><span class="s4">span</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-win"</span><span class="s1">&gt;Tam Kazan (SeÃ§tiÄŸini Al)&lt;/</span><span class="s4">span</span><span class="s1">&gt;&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-row"</span><span class="s1">&gt;&lt;</span><span class="s4">span</span><span class="s1">&gt;2ï¸âƒ£&lt;/</span><span class="s4">span</span><span class="s1">&gt; &lt;</span><span class="s4">span</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-lose"</span><span class="s1">&gt;Tam Kaybet (SeÃ§tiÄŸin Silinir)&lt;/</span><span class="s4">span</span><span class="s1">&gt;&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-row"</span><span class="s1">&gt;&lt;</span><span class="s4">span</span><span class="s1">&gt;3ï¸âƒ£&lt;/</span><span class="s4">span</span><span class="s1">&gt; &lt;</span><span class="s4">span</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-win"</span><span class="s1">&gt;ğŸ”¥ 2 KAT KAZAN (BÃ¼yÃ¼r)&lt;/</span><span class="s4">span</span><span class="s1">&gt;&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-row"</span><span class="s1">&gt;&lt;</span><span class="s4">span</span><span class="s1">&gt;4ï¸âƒ£&lt;/</span><span class="s4">span</span><span class="s1">&gt; &lt;</span><span class="s4">span</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-lose"</span><span class="s1">&gt;ğŸ’€ 2 KAT KAYBET (BÃ¼yÃ¼yÃ¼p Silinir)&lt;/</span><span class="s4">span</span><span class="s1">&gt;&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-row"</span><span class="s1">&gt;&lt;</span><span class="s4">span</span><span class="s1">&gt;5ï¸âƒ£&lt;/</span><span class="s4">span</span><span class="s1">&gt; &lt;</span><span class="s4">span</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-win"</span><span class="s1">&gt;Â½ YarÄ±m Kazan (KÃ¼Ã§Ã¼lÃ¼r)&lt;/</span><span class="s4">span</span><span class="s1">&gt;&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-row"</span><span class="s1">&gt;&lt;</span><span class="s4">span</span><span class="s1">&gt;6ï¸âƒ£&lt;/</span><span class="s4">span</span><span class="s1">&gt; &lt;</span><span class="s4">span</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"rule-lose"</span><span class="s1">&gt;Â½ YarÄ±m Kaybet (KÃ¼Ã§Ã¼lÃ¼p Silinir)&lt;/</span><span class="s4">span</span><span class="s1">&gt;&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">button</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"primary-btn"</span><span class="s1"> </span><span class="s5">onclick</span><span class="s1">=</span><span class="s6">"finishSetup()"</span><span class="s1">&gt;BAÅLAT ğŸš€&lt;/</span><span class="s4">button</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"tugOfWarBar"</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"barP1"</span><span class="s1">&gt;P1 %50&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"barCenter"</span><span class="s1">&gt;&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"barP2"</span><span class="s1">&gt;P2 %50&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"gameLayout"</span><span class="s7">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"canvasWrapper"</span><span class="s7">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">canvas</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"bgCanvas"</span><span class="s7">&gt;&lt;/</span><span class="s4">canvas</span><span class="s7">&gt; &lt;</span><span class="s4">canvas</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"mapCanvas"</span><span class="s7">&gt;&lt;/</span><span class="s4">canvas</span><span class="s7">&gt; &lt;</span><span class="s4">canvas</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"uiCanvas"</span><span class="s7">&gt;&lt;/</span><span class="s4">canvas</span><span class="s7">&gt; &lt;</span><span class="s4">canvas</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"fxCanvas"</span><span class="s7"> </span><span class="s5">style</span><span class="s7">=</span><span class="s1">"pointer-events: none;"</span><span class="s7">&gt;&lt;/</span><span class="s4">canvas</span><span class="s7">&gt; &lt;/</span><span class="s4">div</span><span class="s7">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"sidePanel"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"turnBadge"</span><span class="s1">&gt;SÄ±ra: Bekleniyor&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"p1Card"</span><span class="s7"> </span><span class="s5">class</span><span class="s7">=</span><span class="s1">"info-card player-card active"</span><span class="s7"> </span><span class="s5">style</span><span class="s7">=</span><span class="s1">"border-color: var(--p1-color);"</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"card-content"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"flag"</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"p1FlagDisp"</span><span class="s1">&gt;ğŸ³ï¸&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"stats"</span><span class="s1"> </span><span class="s5">style</span><span class="s1">=</span><span class="s6">"flex-grow:1"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">h3</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"p1NameDisp"</span><span class="s1">&gt;Oyuncu 1&lt;/</span><span class="s4">h3</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">p</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"p1Score"</span><span class="s1">&gt;---&lt;/</span><span class="s4">p</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">class</span><span class="s7">=</span><span class="s1">"limit-bar-bg"</span><span class="s7">&gt;&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"p1LimitBar"</span><span class="s7"> </span><span class="s5">class</span><span class="s7">=</span><span class="s1">"limit-bar-fill"</span><span class="s7">&gt;&lt;/</span><span class="s4">div</span><span class="s7">&gt;&lt;/</span><span class="s4">div</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"p2Card"</span><span class="s7"> </span><span class="s5">class</span><span class="s7">=</span><span class="s1">"info-card player-card"</span><span class="s7"> </span><span class="s5">style</span><span class="s7">=</span><span class="s1">"border-color: var(--p2-color);"</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"card-content"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"flag"</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"p2FlagDisp"</span><span class="s1">&gt;ğŸ³ï¸&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"stats"</span><span class="s1"> </span><span class="s5">style</span><span class="s1">=</span><span class="s6">"flex-grow:1"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">h3</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"p2NameDisp"</span><span class="s1">&gt;Oyuncu 2&lt;/</span><span class="s4">h3</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">p</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"p2Score"</span><span class="s1">&gt;---&lt;/</span><span class="s4">p</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">class</span><span class="s7">=</span><span class="s1">"limit-bar-bg"</span><span class="s7">&gt;&lt;</span><span class="s4">div</span><span class="s7"> </span><span class="s5">id</span><span class="s7">=</span><span class="s1">"p2LimitBar"</span><span class="s7"> </span><span class="s5">class</span><span class="s7">=</span><span class="s1">"limit-bar-fill"</span><span class="s7">&gt;&lt;/</span><span class="s4">div</span><span class="s7">&gt;&lt;/</span><span class="s4">div</span><span class="s7">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"lastResultBox"</span><span class="s1">&gt;SavaÅŸ baÅŸlÄ±yor...&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"actionArea"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"dice-container"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"dice-box"</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"gameDice"</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"dice-face df1"</span><span class="s1">&gt;1&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"dice-face df2"</span><span class="s1">&gt;2&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"dice-face df3"</span><span class="s1">&gt;3&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"dice-face df4"</span><span class="s1">&gt;4&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"dice-face df5"</span><span class="s1">&gt;5&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s5">class</span><span class="s1">=</span><span class="s6">"dice-face df6"</span><span class="s1">&gt;6&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;</span><span class="s4">button</span><span class="s1"> </span><span class="s5">id</span><span class="s1">=</span><span class="s6">"rollBtn"</span><span class="s1">&gt;Ã–NCE ALAN Ã‡Ä°Z ğŸ–Œï¸&lt;/</span><span class="s4">button</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;/</span><span class="s4">div</span><span class="s1">&gt;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p7"><span class="s7">&lt;</span><span class="s1">script</span><span class="s7">&gt;</span></p>
<p class="p10"><span class="s1">// --- VERÄ° ---</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> COUNTRIES = [</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>{ </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'TR'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'TÃ¼rkiye'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡¹ğŸ‡·'</span><span class="s7"> }, { </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'AZ'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Azerbaycan'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡¦ğŸ‡¿'</span><span class="s7"> },</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>{ </span><span class="s5">code</span><span class="s1">: </span><span class="s6">'US'</span><span class="s1">, </span><span class="s5">name</span><span class="s1">: </span><span class="s6">'ABD'</span><span class="s1">, </span><span class="s5">flag</span><span class="s1">: </span><span class="s6">'ğŸ‡ºğŸ‡¸'</span><span class="s1"> }, { </span><span class="s5">code</span><span class="s1">: </span><span class="s6">'DE'</span><span class="s1">, </span><span class="s5">name</span><span class="s1">: </span><span class="s6">'Almanya'</span><span class="s1">, </span><span class="s5">flag</span><span class="s1">: </span><span class="s6">'ğŸ‡©ğŸ‡ª'</span><span class="s1"> },</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>{ </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'JP'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Japonya'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡¯ğŸ‡µ'</span><span class="s7"> }, { </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'KR'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'GÃ¼ney Kore'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡°ğŸ‡·'</span><span class="s7"> },</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>{ </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'BR'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Brezilya'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡§ğŸ‡·'</span><span class="s7"> }, { </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'RU'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Rusya'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡·ğŸ‡º'</span><span class="s7"> },</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>{ </span><span class="s5">code</span><span class="s1">: </span><span class="s6">'CN'</span><span class="s1">, </span><span class="s5">name</span><span class="s1">: </span><span class="s6">'Ã‡in'</span><span class="s1">, </span><span class="s5">flag</span><span class="s1">: </span><span class="s6">'ğŸ‡¨ğŸ‡³'</span><span class="s1"> }, { </span><span class="s5">code</span><span class="s1">: </span><span class="s6">'FR'</span><span class="s1">, </span><span class="s5">name</span><span class="s1">: </span><span class="s6">'Fransa'</span><span class="s1">, </span><span class="s5">flag</span><span class="s1">: </span><span class="s6">'ğŸ‡«ğŸ‡·'</span><span class="s1"> },</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>{ </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'IN'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Hindistan'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡®ğŸ‡³'</span><span class="s7"> }, { </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'GB'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Ä°ngiltere'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡¬ğŸ‡§'</span><span class="s7"> },</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>{ </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'IT'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Ä°talya'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡®ğŸ‡¹'</span><span class="s7"> }, { </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'ES'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Ä°spanya'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡ªğŸ‡¸'</span><span class="s7"> },</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>{ </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'MX'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Meksika'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡²ğŸ‡½'</span><span class="s7"> }, { </span><span class="s5">code</span><span class="s7">: </span><span class="s1">'CA'</span><span class="s7">, </span><span class="s5">name</span><span class="s7">: </span><span class="s1">'Kanada'</span><span class="s7">, </span><span class="s5">flag</span><span class="s7">: </span><span class="s1">'ğŸ‡¨ğŸ‡¦'</span><span class="s7"> }</span></p>
<p class="p6"><span class="s1">];</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s8">const</span><span class="s1"> p1Sel = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p1Select'</span><span class="s1">);</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> p2Sel = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p2Select'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1">COUNTRIES.forEach((c, i) =&gt; { p1Sel.add(</span><span class="s8">new</span><span class="s1"> Option(c.name, i)); p2Sel.add(</span><span class="s8">new</span><span class="s1"> Option(c.name, i)); });</span></p>
<p class="p6"><span class="s1">p1Sel.selectedIndex = </span><span class="s5">0</span><span class="s1">; p2Sel.selectedIndex = </span><span class="s5">1</span><span class="s1">;</span></p>
<p class="p6"><span class="s1">updatePreview(</span><span class="s6">'p1'</span><span class="s1">); updatePreview(</span><span class="s6">'p2'</span><span class="s1">);</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">updatePreview</span><span class="s7">(p) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> idx = </span><span class="s10">document</span><span class="s1">.getElementById(p+</span><span class="s6">'Select'</span><span class="s1">).value;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(p+</span><span class="s6">'FlagPreview'</span><span class="s1">).innerText = COUNTRIES[idx].flag;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s8">let</span><span class="s1"> player1 = {}, player2 = {};</span></p>
<p class="p6"><span class="s8">let</span><span class="s1"> gameState = {</span></p>
<p class="p13"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">started</span><span class="s7">: </span><span class="s1">false</span><span class="s7">,</span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s5">readyToPlay</span><span class="s7">: </span><span class="s5">false</span><span class="s7">, </span><span class="s1">// BUG FIX: BaÅŸlangÄ±Ã§ta game over olmasÄ±n</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s5">turn</span><span class="s1">: </span><span class="s6">'p1'</span><span class="s1">,</span></p>
<p class="p13"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">isDrawing</span><span class="s7">: </span><span class="s1">false</span><span class="s7">,</span></p>
<p class="p13"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">pathPoints</span><span class="s7">: [],</span></p>
<p class="p13"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">canRoll</span><span class="s7">: </span><span class="s1">false</span><span class="s7">,</span></p>
<p class="p13"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">isRolling</span><span class="s7">: </span><span class="s1">false</span><span class="s7">,</span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s5">scores</span><span class="s7">: { </span><span class="s5">p1</span><span class="s7">: </span><span class="s5">100000</span><span class="s7">, </span><span class="s5">p2</span><span class="s7">: </span><span class="s5">100000</span><span class="s7"> }, </span><span class="s1">// BaÅŸlangÄ±Ã§ta yÃ¼ksek deÄŸer (gÃ¼venli)</span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s5">limitRatio</span><span class="s7">: </span><span class="s5">1.0</span><span class="s7"> </span><span class="s1">// TAM Kendi alanÄ± kadar</span></p>
<p class="p6"><span class="s1">};</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s1">// --- SES SÄ°STEMÄ° (Sweet Sounds) ---</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> audioCtx = </span><span class="s8">new</span><span class="s1"> (</span><span class="s10">window</span><span class="s1">.AudioContext || </span><span class="s10">window</span><span class="s1">.webkitAudioContext)();</span></p>
<p class="p6"><span class="s8">function</span><span class="s1"> </span><span class="s11">playTone</span><span class="s1">(freq, type, duration, delay=</span><span class="s5">0</span><span class="s1">, vol=</span><span class="s5">0.1</span><span class="s1">) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(audioCtx.state===</span><span class="s6">'suspended'</span><span class="s1">) audioCtx.resume();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> o = audioCtx.createOscillator(); </span><span class="s8">const</span><span class="s1"> g = audioCtx.createGain();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>o.type=type; o.frequency.setValueAtTime(freq, audioCtx.currentTime+delay);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>g.gain.setValueAtTime(</span><span class="s5">0</span><span class="s1">, audioCtx.currentTime+delay);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>g.gain.linearRampToValueAtTime(vol, audioCtx.currentTime+delay+</span><span class="s5">0.05</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>g.gain.exponentialRampToValueAtTime(</span><span class="s5">0.001</span><span class="s1">, audioCtx.currentTime+delay+duration);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>o.connect(g); g.connect(audioCtx.destination);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>o.start(audioCtx.currentTime+delay); o.stop(audioCtx.currentTime+delay+duration);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">playSound</span><span class="s7">(ev) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(ev===</span><span class="s6">'draw'</span><span class="s1">) playTone(</span><span class="s5">400</span><span class="s1">+</span><span class="s10">Math</span><span class="s1">.random()*</span><span class="s5">200</span><span class="s1">, </span><span class="s6">'sine'</span><span class="s1">, </span><span class="s5">0.05</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">0.05</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(ev===</span><span class="s6">'tick'</span><span class="s1">) playTone(</span><span class="s5">800</span><span class="s1">, </span><span class="s6">'square'</span><span class="s1">, </span><span class="s5">0.02</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">0.05</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(ev===</span><span class="s6">'ready'</span><span class="s1">) playTone(</span><span class="s5">1000</span><span class="s1">, </span><span class="s6">'sine'</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(ev===</span><span class="s6">'win'</span><span class="s1">) { playTone(</span><span class="s5">523.25</span><span class="s1">, </span><span class="s6">'sine'</span><span class="s1">, </span><span class="s5">0.3</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">); playTone(</span><span class="s5">659.25</span><span class="s1">, </span><span class="s6">'sine'</span><span class="s1">, </span><span class="s5">0.3</span><span class="s1">, </span><span class="s5">0.1</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(ev===</span><span class="s6">'winBig'</span><span class="s1">) { playTone(</span><span class="s5">523.25</span><span class="s1">, </span><span class="s6">'triangle'</span><span class="s1">, </span><span class="s5">0.3</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">); playTone(</span><span class="s5">1046.50</span><span class="s1">, </span><span class="s6">'triangle'</span><span class="s1">, </span><span class="s5">0.5</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(ev===</span><span class="s6">'lose'</span><span class="s1">) { playTone(</span><span class="s5">400</span><span class="s1">, </span><span class="s6">'sine'</span><span class="s1">, </span><span class="s5">0.3</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">); playTone(</span><span class="s5">300</span><span class="s1">, </span><span class="s6">'sine'</span><span class="s1">, </span><span class="s5">0.5</span><span class="s1">, </span><span class="s5">0.1</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(ev===</span><span class="s6">'loseBig'</span><span class="s1">) { playTone(</span><span class="s5">300</span><span class="s1">, </span><span class="s6">'sawtooth'</span><span class="s1">, </span><span class="s5">0.4</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">0.1</span><span class="s1">); playTone(</span><span class="s5">150</span><span class="s1">, </span><span class="s6">'sawtooth'</span><span class="s1">, </span><span class="s5">0.6</span><span class="s1">, </span><span class="s5">0.2</span><span class="s1">, </span><span class="s5">0.1</span><span class="s1">); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(ev===</span><span class="s6">'start'</span><span class="s1">) { playTone(</span><span class="s5">600</span><span class="s1">, </span><span class="s6">'sine'</span><span class="s1">, </span><span class="s5">0.5</span><span class="s1">); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(ev===</span><span class="s6">'limit'</span><span class="s1">) { playTone(</span><span class="s5">200</span><span class="s1">, </span><span class="s6">'sawtooth'</span><span class="s1">, </span><span class="s5">0.1</span><span class="s1">); }</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s1">// --- CANVAS SETUP ---</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> bgCanvas = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'bgCanvas'</span><span class="s1">);</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> mapCanvas = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'mapCanvas'</span><span class="s1">);</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> uiCanvas = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'uiCanvas'</span><span class="s1">);</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> fxCanvas = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'fxCanvas'</span><span class="s1">);</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> ctxBg = bgCanvas.getContext(</span><span class="s6">'2d'</span><span class="s1">);</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> ctxMap = mapCanvas.getContext(</span><span class="s6">'2d'</span><span class="s1">, { </span><span class="s5">willReadFrequently</span><span class="s1">: </span><span class="s5">true</span><span class="s1"> });</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> ctxUi = uiCanvas.getContext(</span><span class="s6">'2d'</span><span class="s1">);</span></p>
<p class="p6"><span class="s8">const</span><span class="s1"> ctxFx = fxCanvas.getContext(</span><span class="s6">'2d'</span><span class="s1">);</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">finishSetup</span><span class="s7">() {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> idx1 = p1Sel.value; </span><span class="s8">const</span><span class="s1"> idx2 = p2Sel.value;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>player1 = { ...COUNTRIES[idx1], </span><span class="s5">color</span><span class="s1">: </span><span class="s6">'#ff7675'</span><span class="s1"> };</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>player2 = { ...COUNTRIES[idx2], </span><span class="s5">color</span><span class="s1">: </span><span class="s6">'#74b9ff'</span><span class="s1"> };</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p1NameDisp'</span><span class="s1">).innerText = player1.name;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p1FlagDisp'</span><span class="s1">).innerText = player1.flag;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p2NameDisp'</span><span class="s1">).innerText = player2.name;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p2FlagDisp'</span><span class="s1">).innerText = player2.flag;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'setupModal'</span><span class="s1">).classList.remove(</span><span class="s6">'active'</span><span class="s1">);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gameState.started = </span><span class="s5">true</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>resize();</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// SAFE INIT: Harita oturduktan sonra puan hesapla</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">setTimeout</span><span class="s1">(() =&gt; {<span class="Apple-converted-space">Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>drawInitialAreas();<span class="Apple-converted-space">Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s10">setTimeout</span><span class="s1">(() =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>updateScores();<span class="Apple-converted-space">Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>gameState.readyToPlay = </span><span class="s5">true</span><span class="s1">;<span class="Apple-converted-space">Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}, </span><span class="s5">300</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}, </span><span class="s5">100</span><span class="s1">);</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>updateTurnIndicator();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>playSound(</span><span class="s6">'start'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p11"><span class="s1">function</span><span class="s7"> </span><span class="s11">resize</span><span class="s7">() {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> w = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'canvasWrapper'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>[bgCanvas, mapCanvas, uiCanvas, fxCanvas].forEach(c =&gt; { c.width = w.clientWidth; c.height = w.clientHeight; });</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(gameState.started) { drawWorldMap(); drawInitialAreas(); }</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p6"><span class="s10">window</span><span class="s1">.addEventListener(</span><span class="s6">'resize'</span><span class="s1">, resize);</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">drawWorldMap</span><span class="s7">() {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxBg.clearRect(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,bgCanvas.width, bgCanvas.height);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Grid</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxBg.strokeStyle = </span><span class="s6">'rgba(255,255,255,0.1)'</span><span class="s1">; ctxBg.lineWidth=</span><span class="s5">1</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> i=</span><span class="s5">0</span><span class="s1">; i&lt;bgCanvas.width; i+=</span><span class="s5">60</span><span class="s1">) { ctxBg.beginPath(); ctxBg.moveTo(i,</span><span class="s5">0</span><span class="s1">); ctxBg.lineTo(i,bgCanvas.height); ctxBg.stroke(); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> i=</span><span class="s5">0</span><span class="s1">; i&lt;bgCanvas.height; i+=</span><span class="s5">60</span><span class="s1">) { ctxBg.beginPath(); ctxBg.moveTo(</span><span class="s5">0</span><span class="s1">,i); ctxBg.lineTo(bgCanvas.width,i); ctxBg.stroke(); }</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// KÄ±talar (YeÅŸil Alanlar)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxBg.fillStyle = </span><span class="s6">'#badc58'</span><span class="s1">; </span><span class="s9">// Kara</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> lands = [{</span><span class="s5">x</span><span class="s1">:</span><span class="s5">0.2</span><span class="s1">,</span><span class="s5">y</span><span class="s1">:</span><span class="s5">0.3</span><span class="s1">,</span><span class="s5">r</span><span class="s1">:</span><span class="s5">90</span><span class="s1">}, {</span><span class="s5">x</span><span class="s1">:</span><span class="s5">0.7</span><span class="s1">,</span><span class="s5">y</span><span class="s1">:</span><span class="s5">0.3</span><span class="s1">,</span><span class="s5">r</span><span class="s1">:</span><span class="s5">100</span><span class="s1">}, {</span><span class="s5">x</span><span class="s1">:</span><span class="s5">0.6</span><span class="s1">,</span><span class="s5">y</span><span class="s1">:</span><span class="s5">0.7</span><span class="s1">,</span><span class="s5">r</span><span class="s1">:</span><span class="s5">80</span><span class="s1">}, {</span><span class="s5">x</span><span class="s1">:</span><span class="s5">0.25</span><span class="s1">,</span><span class="s5">y</span><span class="s1">:</span><span class="s5">0.65</span><span class="s1">,</span><span class="s5">r</span><span class="s1">:</span><span class="s5">70</span><span class="s1">}];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>lands.forEach(l =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">let</span><span class="s1"> cx = l.x*bgCanvas.width; </span><span class="s8">let</span><span class="s1"> cy=l.y*bgCanvas.height;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(</span><span class="s10">Math</span><span class="s1">.hypot(cx,cy-bgCanvas.height)&lt;</span><span class="s5">250</span><span class="s1"> || </span><span class="s10">Math</span><span class="s1">.hypot(cx-bgCanvas.width, cy)&lt;</span><span class="s5">250</span><span class="s1">) </span><span class="s8">return</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctxBg.beginPath();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> a=</span><span class="s5">0</span><span class="s1">; a&lt;</span><span class="s10">Math</span><span class="s1">.PI*</span><span class="s5">2</span><span class="s1">; a+=</span><span class="s5">0.4</span><span class="s1">) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">let</span><span class="s1"> r = l.r + </span><span class="s10">Math</span><span class="s1">.random()*</span><span class="s5">25</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>ctxBg.lineTo(cx+</span><span class="s10">Math</span><span class="s1">.cos(a)*r, cy+</span><span class="s10">Math</span><span class="s1">.sin(a)*r);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctxBg.fill();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>});</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Dekorasyon</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxBg.font = </span><span class="s6">"24px Arial"</span><span class="s1">; ctxBg.textAlign=</span><span class="s6">"center"</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> i=</span><span class="s5">0</span><span class="s1">;i&lt;</span><span class="s5">20</span><span class="s1">;i++) ctxBg.fillText(</span><span class="s10">Math</span><span class="s1">.random()&gt;</span><span class="s5">.5</span><span class="s1">?</span><span class="s6">"ğŸŒ²"</span><span class="s1">:</span><span class="s6">"â›°ï¸"</span><span class="s1">, </span><span class="s10">Math</span><span class="s1">.random()*bgCanvas.width, </span><span class="s10">Math</span><span class="s1">.random()*bgCanvas.height);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">drawInitialAreas</span><span class="s7">() {</span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Sol Alt (P1)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.fillStyle = player1.color;<span class="Apple-converted-space">Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.beginPath(); ctxMap.arc(</span><span class="s5">0</span><span class="s1">, mapCanvas.height, </span><span class="s5">180</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s10">Math</span><span class="s1">.PI*</span><span class="s5">2</span><span class="s1">); ctxMap.fill();</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// SaÄŸ Ãœst (P2)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.fillStyle = player2.color;<span class="Apple-converted-space">Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.beginPath(); ctxMap.arc(mapCanvas.width, </span><span class="s5">0</span><span class="s1">, </span><span class="s5">180</span><span class="s1">, </span><span class="s5">0</span><span class="s1">, </span><span class="s10">Math</span><span class="s1">.PI*</span><span class="s5">2</span><span class="s1">); ctxMap.fill();</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s1">// --- Ã‡Ä°ZÄ°M VE LÄ°MÄ°T HESAPLAMA ---</span></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">getMousePos</span><span class="s7">(e) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> r = uiCanvas.getBoundingClientRect();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> cx = e.touches ? e.touches[</span><span class="s5">0</span><span class="s1">].clientX : e.clientX;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> cy = e.touches ? e.touches[</span><span class="s5">0</span><span class="s1">].clientY : e.clientY;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">return</span><span class="s1"> { </span><span class="s5">x</span><span class="s1">: cx - r.left, </span><span class="s5">y</span><span class="s1">: cy - r.top };</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">uiCanvas.addEventListener(</span><span class="s6">'mousedown'</span><span class="s1">, startD); uiCanvas.addEventListener(</span><span class="s6">'mousemove'</span><span class="s1">, moveD); uiCanvas.addEventListener(</span><span class="s6">'mouseup'</span><span class="s1">, endD);</span></p>
<p class="p6"><span class="s1">uiCanvas.addEventListener(</span><span class="s6">'touchstart'</span><span class="s1">, startD, {</span><span class="s5">passive</span><span class="s1">:</span><span class="s5">false</span><span class="s1">}); uiCanvas.addEventListener(</span><span class="s6">'touchmove'</span><span class="s1">, moveD, {</span><span class="s5">passive</span><span class="s1">:</span><span class="s5">false</span><span class="s1">}); uiCanvas.addEventListener(</span><span class="s6">'touchend'</span><span class="s1">, endD);</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p11"><span class="s1">function</span><span class="s7"> </span><span class="s11">startD</span><span class="s7">(e) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(!gameState.started || gameState.canRoll || gameState.isRolling) </span><span class="s8">return</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(e.type===</span><span class="s6">'touchstart'</span><span class="s1">) e.preventDefault();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> p = getMousePos(e);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> px = ctxMap.getImageData(p.x, p.y, </span><span class="s5">1</span><span class="s1">, </span><span class="s5">1</span><span class="s1">).data;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> isP1 = (gameState.turn === </span><span class="s6">'p1'</span><span class="s1"> &amp;&amp; px[</span><span class="s5">0</span><span class="s1">] &gt; px[</span><span class="s5">2</span><span class="s1">]); </span><span class="s9">// KÄ±rmÄ±zÄ±</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> isP2 = (gameState.turn === </span><span class="s6">'p2'</span><span class="s1"> &amp;&amp; px[</span><span class="s5">2</span><span class="s1">] &gt; px[</span><span class="s5">0</span><span class="s1">]); </span><span class="s9">// Mavi</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(!isP1 &amp;&amp; !isP2) </span><span class="s8">return</span><span class="s1">;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gameState.isDrawing = </span><span class="s5">true</span><span class="s1">; gameState.pathPoints = [p];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>playSound(</span><span class="s6">'draw'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxUi.beginPath(); ctxUi.moveTo(p.x, p.y);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxUi.strokeStyle = </span><span class="s6">'#2d3436'</span><span class="s1">; ctxUi.lineWidth = </span><span class="s5">3</span><span class="s1">; ctxUi.setLineDash([</span><span class="s5">5</span><span class="s1">,</span><span class="s5">5</span><span class="s1">]);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p11"><span class="s1">function</span><span class="s7"> </span><span class="s11">moveD</span><span class="s7">(e) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(!gameState.isDrawing) </span><span class="s8">return</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(e.type===</span><span class="s6">'touchmove'</span><span class="s1">) e.preventDefault();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> p = getMousePos(e);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gameState.pathPoints.push(p);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Limit KontrolÃ¼ (Hata dÃ¼zeltildi: GerÃ§ek Piksel vs GerÃ§ek Piksel)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> currentDrawArea = calculatePolyArea(gameState.pathPoints);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> maxAllowed = gameState.scores[gameState.turn] * gameState.limitRatio;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> ratio = </span><span class="s10">Math</span><span class="s1">.min(</span><span class="s5">100</span><span class="s1">, (currentDrawArea / maxAllowed) * </span><span class="s5">100</span><span class="s1">);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> barId = gameState.turn===</span><span class="s6">'p1'</span><span class="s1">?</span><span class="s6">'p1LimitBar'</span><span class="s1">:</span><span class="s6">'p2LimitBar'</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> bar = </span><span class="s10">document</span><span class="s1">.getElementById(barId);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>bar.style.width = ratio + </span><span class="s6">'%'</span><span class="s1">;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// GÃ¶rsel Geri Bildirim</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1"> (currentDrawArea &gt; maxAllowed) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>bar.style.background = </span><span class="s6">'#e74c3c'</span><span class="s1">; </span><span class="s9">// KÄ±rmÄ±zÄ± (Hata)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctxUi.strokeStyle = </span><span class="s6">'#e74c3c'</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(</span><span class="s10">Math</span><span class="s1">.random()&gt;</span><span class="s5">0.9</span><span class="s1">) playSound(</span><span class="s6">'limit'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} </span><span class="s8">else</span><span class="s1"> {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>bar.style.background = </span><span class="s6">'#00b894'</span><span class="s1">; </span><span class="s9">// YeÅŸil (OK)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctxUi.strokeStyle = </span><span class="s6">'#2d3436'</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxUi.clearRect(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,uiCanvas.width, uiCanvas.height);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxUi.beginPath(); ctxUi.moveTo(gameState.pathPoints[</span><span class="s5">0</span><span class="s1">].x, gameState.pathPoints[</span><span class="s5">0</span><span class="s1">].y);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> pt </span><span class="s8">of</span><span class="s1"> gameState.pathPoints) ctxUi.lineTo(pt.x, pt.y);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxUi.stroke();</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p11"><span class="s1">function</span><span class="s7"> </span><span class="s11">endD</span><span class="s7">() {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(!gameState.isDrawing) </span><span class="s8">return</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gameState.isDrawing = </span><span class="s5">false</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxUi.closePath();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxUi.fillStyle = </span><span class="s6">'rgba(0,0,0,0.1)'</span><span class="s1">; ctxUi.fill();</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> area = calculatePolyArea(gameState.pathPoints);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> maxAllowed = gameState.scores[gameState.turn] * gameState.limitRatio;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Reset Bar</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p1LimitBar'</span><span class="s1">).style.width = </span><span class="s6">'0%'</span><span class="s1">; </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p2LimitBar'</span><span class="s1">).style.width = </span><span class="s6">'0%'</span><span class="s1">;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Validasyon</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(area &lt; </span><span class="s5">100</span><span class="s1">) { ctxUi.clearRect(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,uiCanvas.width, uiCanvas.height); </span><span class="s8">return</span><span class="s1">; }</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(area &gt; maxAllowed) {<span class="Apple-converted-space">Â </span></span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span>alert(</span><span class="s1">"SÄ±nÄ±rÄ± aÅŸtÄ±n! Sadece sahip olduÄŸun kadar alanÄ± riske edebilirsin."</span><span class="s7">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctxUi.clearRect(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,uiCanvas.width, uiCanvas.height);<span class="Apple-converted-space">Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">return</span><span class="s1">;<span class="Apple-converted-space">Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gameState.canRoll = </span><span class="s5">true</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> btn = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'rollBtn'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>btn.classList.add(</span><span class="s6">'ready'</span><span class="s1">);</span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// GÃ¶stermelik birim (1000'e bÃ¶lerek sadeleÅŸtirdik)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>btn.innerHTML = </span><span class="s6">`ğŸ² ZAR AT (Risk: </span><span class="s12">${</span><span class="s10">Math</span><span class="s12">.floor(area/</span><span class="s5">100</span><span class="s12">)}</span><span class="s6">)`</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>playSound(</span><span class="s6">'ready'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s1">// --- ZAR VE SONUÃ‡ ---</span></p>
<p class="p6"><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'rollBtn'</span><span class="s1">).addEventListener(</span><span class="s6">'click'</span><span class="s1">, () =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(!gameState.canRoll) </span><span class="s8">return</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gameState.isRolling = </span><span class="s5">true</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'rollBtn'</span><span class="s1">).classList.remove(</span><span class="s6">'ready'</span><span class="s1">);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> target = </span><span class="s10">Math</span><span class="s1">.floor(</span><span class="s10">Math</span><span class="s1">.random()*</span><span class="s5">6</span><span class="s1">)+</span><span class="s5">1</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>animateDice(target);</span></p>
<p class="p6"><span class="s1">});</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s8">function</span><span class="s1"> </span><span class="s11">animateDice</span><span class="s1">(target) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> box = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'gameDice'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">let</span><span class="s1"> frame = </span><span class="s5">0</span><span class="s1">; </span><span class="s8">const</span><span class="s1"> duration = </span><span class="s5">120</span><span class="s1">; </span><span class="s9">// 2 sn</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">let</span><span class="s1"> vx = </span><span class="s5">20</span><span class="s1">, vy = </span><span class="s5">20</span><span class="s1">; </span><span class="s8">let</span><span class="s1"> rx = </span><span class="s5">0</span><span class="s1">, ry = </span><span class="s5">0</span><span class="s1">;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> loop = </span><span class="s10">setInterval</span><span class="s1">(() =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>frame++;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>vx *= </span><span class="s5">0.98</span><span class="s1">; vy *= </span><span class="s5">0.98</span><span class="s1">; rx += vx; ry += vy;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// Wobble Effect (Sonlara doÄŸru heyecan)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(frame &gt; duration - </span><span class="s5">30</span><span class="s1">) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">let</span><span class="s1"> tx=</span><span class="s5">0</span><span class="s1">, ty=</span><span class="s5">0</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">1</span><span class="s1">) {tx=</span><span class="s5">0</span><span class="s1">; ty=</span><span class="s5">0</span><span class="s1">;} </span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">2</span><span class="s1">) {tx=</span><span class="s5">0</span><span class="s1">; ty=</span><span class="s5">180</span><span class="s1">;}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">3</span><span class="s1">) {tx=</span><span class="s5">0</span><span class="s1">; ty=-</span><span class="s5">90</span><span class="s1">;} </span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">4</span><span class="s1">) {tx=</span><span class="s5">0</span><span class="s1">; ty=</span><span class="s5">90</span><span class="s1">;}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">5</span><span class="s1">) {tx=-</span><span class="s5">90</span><span class="s1">; ty=</span><span class="s5">0</span><span class="s1">;} </span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">6</span><span class="s1">) {tx=</span><span class="s5">90</span><span class="s1">; ty=</span><span class="s5">0</span><span class="s1">;}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">const</span><span class="s1"> w = </span><span class="s10">Math</span><span class="s1">.sin(frame)*</span><span class="s5">15</span><span class="s1">;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>box.style.transform = </span><span class="s1">`rotateX(</span><span class="s12">${tx+w+</span><span class="s5">720</span><span class="s12">}</span><span class="s1">deg) rotateY(</span><span class="s12">${ty+w+</span><span class="s5">720</span><span class="s12">}</span><span class="s1">deg) scale(1.2)`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>} </span><span class="s8">else</span><span class="s1"> {</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>box.style.transform = </span><span class="s1">`rotateX(</span><span class="s12">${rx}</span><span class="s1">deg) rotateY(</span><span class="s12">${ry}</span><span class="s1">deg) scale(1.2)`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(frame%</span><span class="s5">10</span><span class="s1">===</span><span class="s5">0</span><span class="s1">) playSound(</span><span class="s6">'tick'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(frame &gt;= duration) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s10">clearInterval</span><span class="s1">(loop);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">let</span><span class="s1"> tx=</span><span class="s5">0</span><span class="s1">, ty=</span><span class="s5">0</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">1</span><span class="s1">) {tx=</span><span class="s5">0</span><span class="s1">; ty=</span><span class="s5">0</span><span class="s1">;} </span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">2</span><span class="s1">) {tx=</span><span class="s5">0</span><span class="s1">; ty=</span><span class="s5">180</span><span class="s1">;}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">3</span><span class="s1">) {tx=</span><span class="s5">0</span><span class="s1">; ty=-</span><span class="s5">90</span><span class="s1">;} </span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">4</span><span class="s1">) {tx=</span><span class="s5">0</span><span class="s1">; ty=</span><span class="s5">90</span><span class="s1">;}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">5</span><span class="s1">) {tx=-</span><span class="s5">90</span><span class="s1">; ty=</span><span class="s5">0</span><span class="s1">;} </span><span class="s8">if</span><span class="s1">(target==</span><span class="s5">6</span><span class="s1">) {tx=</span><span class="s5">90</span><span class="s1">; ty=</span><span class="s5">0</span><span class="s1">;}</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>box.style.transform = </span><span class="s1">`rotateX(</span><span class="s12">${tx+</span><span class="s5">720</span><span class="s12">}</span><span class="s1">deg) rotateY(</span><span class="s12">${ty+</span><span class="s5">720</span><span class="s12">}</span><span class="s1">deg) scale(1)`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>processResult(target);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}, </span><span class="s5">16</span><span class="s1">);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">processResult</span><span class="s7">(res) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> player = gameState.turn === </span><span class="s6">'p1'</span><span class="s1"> ? player1 : player2;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> center = getCentroid(gameState.pathPoints);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> box = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'lastResultBox'</span><span class="s1">);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">let</span><span class="s1"> scale = </span><span class="s5">1</span><span class="s1">, mode = </span><span class="s6">'source-over'</span><span class="s1">, msg = </span><span class="s6">""</span><span class="s1">, sound = </span><span class="s6">"win"</span><span class="s1">, color = player.color;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// --- 1-6 MANTIÄI ---</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">switch</span><span class="s1">(res) {</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">case</span><span class="s7"> </span><span class="s5">1</span><span class="s7">: scale=</span><span class="s5">1</span><span class="s7">; mode=</span><span class="s1">'source-over'</span><span class="s7">; msg=</span><span class="s1">"1ï¸âƒ£ TAM Ä°SABET! AlanÄ± kaptÄ±n."</span><span class="s7">; sound=</span><span class="s1">'win'</span><span class="s7">; </span><span class="s8">break</span><span class="s7">;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">case</span><span class="s7"> </span><span class="s5">2</span><span class="s7">: scale=</span><span class="s5">1</span><span class="s7">; mode=</span><span class="s1">'destination-out'</span><span class="s7">; msg=</span><span class="s1">"2ï¸âƒ£ KAYIP! SeÃ§tiÄŸin yer silindi."</span><span class="s7">; sound=</span><span class="s1">'lose'</span><span class="s7">; </span><span class="s8">break</span><span class="s7">;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">case</span><span class="s7"> </span><span class="s5">3</span><span class="s7">: scale=</span><span class="s5">1.41</span><span class="s7">; mode=</span><span class="s1">'source-over'</span><span class="s7">; msg=</span><span class="s1">"3ï¸âƒ£ 2 KAT KAZANÃ‡! Muazzam bÃ¼yÃ¼me!"</span><span class="s7">; sound=</span><span class="s1">'winBig'</span><span class="s7">; </span><span class="s8">break</span><span class="s7">;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">case</span><span class="s7"> </span><span class="s5">4</span><span class="s7">: scale=</span><span class="s5">1.41</span><span class="s7">; mode=</span><span class="s1">'destination-out'</span><span class="s7">; msg=</span><span class="s1">"4ï¸âƒ£ 2 KAT KAYIP! BÃ¼yÃ¼k hasar!"</span><span class="s7">; sound=</span><span class="s1">'loseBig'</span><span class="s7">; </span><span class="s8">break</span><span class="s7">;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">case</span><span class="s7"> </span><span class="s5">5</span><span class="s7">: scale=</span><span class="s5">0.7</span><span class="s7">; mode=</span><span class="s1">'source-over'</span><span class="s7">; msg=</span><span class="s1">"5ï¸âƒ£ YARIM KAZANÃ‡. Olsun, kÃ¢rdÄ±r."</span><span class="s7">; sound=</span><span class="s1">'win'</span><span class="s7">; </span><span class="s8">break</span><span class="s7">;</span></p>
<p class="p8"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">case</span><span class="s7"> </span><span class="s5">6</span><span class="s7">: scale=</span><span class="s5">0.7</span><span class="s7">; mode=</span><span class="s1">'destination-out'</span><span class="s7">; msg=</span><span class="s1">"6ï¸âƒ£ YARIM KAYIP. Ucuz atlattÄ±n."</span><span class="s7">; sound=</span><span class="s1">'lose'</span><span class="s7">; </span><span class="s8">break</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>playSound(sound);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>spawnParticles(center.x, center.y, mode===</span><span class="s6">'source-over'</span><span class="s1">?color:</span><span class="s6">'#555'</span><span class="s1">, scale*</span><span class="s5">20</span><span class="s1">);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Canvas Ä°ÅŸlemi</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.save();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.translate(center.x, center.y);</span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>ctxMap.scale(scale, scale); </span><span class="s1">// BÃ¼yÃ¼tme/KÃ¼Ã§Ã¼ltme burada yapÄ±lÄ±yor</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.translate(-center.x, -center.y);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.globalCompositeOperation = mode; </span><span class="s9">// Silme veya Boyama</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.fillStyle = color;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.beginPath();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.moveTo(gameState.pathPoints[</span><span class="s5">0</span><span class="s1">].x, gameState.pathPoints[</span><span class="s5">0</span><span class="s1">].y);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> p </span><span class="s8">of</span><span class="s1"> gameState.pathPoints) ctxMap.lineTo(p.x, p.y);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.closePath();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.fill();</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.restore();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxMap.globalCompositeOperation = </span><span class="s6">'source-over'</span><span class="s1">;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// UI GÃ¼ncelle</span></p>
<p class="p14"><span class="s7"><span class="Apple-converted-space">Â  Â  </span>box.innerHTML = </span><span class="s6">`&lt;b&gt;</span><span class="s1">${player.name}</span><span class="s6"> (</span><span class="s1">${res}</span><span class="s6">):&lt;/b&gt; </span><span class="s1">${msg}</span><span class="s6">`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>box.className = mode===</span><span class="s6">'source-over'</span><span class="s1">?</span><span class="s6">'win'</span><span class="s1">:</span><span class="s6">'lose'</span><span class="s1">;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">setTimeout</span><span class="s1">(() =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctxUi.clearRect(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,uiCanvas.width, uiCanvas.height);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>gameState.pathPoints = []; gameState.canRoll = </span><span class="s5">false</span><span class="s1">; gameState.isRolling = </span><span class="s5">false</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'rollBtn'</span><span class="s1">).innerHTML = </span><span class="s6">"Ã–NCE ALAN Ã‡Ä°Z ğŸ–Œï¸"</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>updateScores(); switchTurn();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}, </span><span class="s5">1800</span><span class="s1">);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s1">// --- YARDIMCI ---</span></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">getCentroid</span><span class="s7">(pts) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">let</span><span class="s1"> x=</span><span class="s5">0</span><span class="s1">, y=</span><span class="s5">0</span><span class="s1">; </span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> p </span><span class="s8">of</span><span class="s1"> pts){x+=p.x; y+=p.y;}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">return</span><span class="s1"> {</span><span class="s5">x</span><span class="s1">:x/pts.length, </span><span class="s5">y</span><span class="s1">:y/pts.length};</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">calculatePolyArea</span><span class="s7">(pts) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">let</span><span class="s1"> a=</span><span class="s5">0</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> i=</span><span class="s5">0</span><span class="s1">; i&lt;pts.length; i++) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">let</span><span class="s1"> j=(i+</span><span class="s5">1</span><span class="s1">)%pts.length; a += pts[i].x*pts[j].y; a -= pts[j].x*pts[i].y;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">return</span><span class="s1"> </span><span class="s10">Math</span><span class="s1">.abs(a/</span><span class="s5">2</span><span class="s1">);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">updateScores</span><span class="s7">() {</span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Sadece oyun hazÄ±rken Ã§alÄ±ÅŸ</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1"> (!gameState.readyToPlay &amp;&amp; gameState.scores.p1 &gt; </span><span class="s5">0</span><span class="s1">) </span><span class="s8">return</span><span class="s1">;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// GerÃ§ek piksel sayÄ±mÄ± (Hassas Ã¶lÃ§Ã¼m)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> d = ctxMap.getImageData(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,mapCanvas.width, mapCanvas.height).data;</span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">let</span><span class="s7"> s1=</span><span class="s5">0</span><span class="s7">, s2=</span><span class="s5">0</span><span class="s7">, step=</span><span class="s5">64</span><span class="s7">; </span><span class="s1">// Ã–rnekleme hÄ±zÄ± (performans/doÄŸruluk dengesi)</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> i=</span><span class="s5">0</span><span class="s1">; i&lt;d.length; i+=step) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(d[i+</span><span class="s5">3</span><span class="s1">]&gt;</span><span class="s5">50</span><span class="s1">) { </span><span class="s8">if</span><span class="s1">(d[i]&gt;d[i+</span><span class="s5">2</span><span class="s1">]) s1++; </span><span class="s8">else</span><span class="s1"> s2++; }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Piksel sayÄ±sÄ±nÄ± Ã¶rnekleme oranÄ±yla Ã§arpÄ±p gerÃ§ek alana yaklaÅŸtÄ±r</span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// step = 64 (her 16 pikselden 1'i, rgba 4 byte olduÄŸu iÃ§in 64/4 = 16)</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> realS1 = s1 * </span><span class="s5">16</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> realS2 = s2 * </span><span class="s5">16</span><span class="s1">;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gameState.scores.p1 = realS1;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gameState.scores.p2 = realS2;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p1Score'</span><span class="s1">).innerText = </span><span class="s10">Math</span><span class="s1">.floor(realS1/</span><span class="s5">1000</span><span class="s1">) + </span><span class="s6">" br"</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p2Score'</span><span class="s1">).innerText = </span><span class="s10">Math</span><span class="s1">.floor(realS2/</span><span class="s5">1000</span><span class="s1">) + </span><span class="s6">" br"</span><span class="s1">;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Bar</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> total = realS1 + realS2 + </span><span class="s5">1</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'barP1'</span><span class="s1">).style.width = (realS1/total)*</span><span class="s5">100</span><span class="s1">+</span><span class="s6">"%"</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'barP1'</span><span class="s1">).innerText = player1.name + </span><span class="s6">" %"</span><span class="s1"> + </span><span class="s10">Math</span><span class="s1">.round((realS1/total)*</span><span class="s5">100</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'barP2'</span><span class="s1">).style.width = (realS2/total)*</span><span class="s5">100</span><span class="s1">+</span><span class="s6">"%"</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'barP2'</span><span class="s1">).innerText = </span><span class="s6">"%"</span><span class="s1"> + </span><span class="s10">Math</span><span class="s1">.round((realS2/total)*</span><span class="s5">100</span><span class="s1">) + </span><span class="s6">" "</span><span class="s1"> + player2.name;</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s7"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">// Game Over</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(gameState.readyToPlay) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(realS1 &lt; </span><span class="s5">5000</span><span class="s1">) { alert(</span><span class="s6">"ğŸ† "</span><span class="s1"> + player2.name + </span><span class="s6">" KAZANDI!"</span><span class="s1">); location.reload(); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s8">if</span><span class="s1">(realS2 &lt; </span><span class="s5">5000</span><span class="s1">) { alert(</span><span class="s6">"ğŸ† "</span><span class="s1"> + player1.name + </span><span class="s6">" KAZANDI!"</span><span class="s1">); location.reload(); }</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">switchTurn</span><span class="s7">() {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gameState.turn = gameState.turn === </span><span class="s6">'p1'</span><span class="s1"> ? </span><span class="s6">'p2'</span><span class="s1"> : </span><span class="s6">'p1'</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>updateTurnIndicator();</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p12"><span class="s8">function</span><span class="s7"> </span><span class="s1">updateTurnIndicator</span><span class="s7">() {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">const</span><span class="s1"> badge = </span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'turnBadge'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p1Card'</span><span class="s1">).classList.remove(</span><span class="s6">'active'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p2Card'</span><span class="s1">).classList.remove(</span><span class="s6">'active'</span><span class="s1">);</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">if</span><span class="s1">(gameState.turn === </span><span class="s6">'p1'</span><span class="s1">) {</span></p>
<p class="p14"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span>badge.innerHTML = </span><span class="s6">`SÄ±ra: </span><span class="s1">${player1.flag}</span><span class="s6"> </span><span class="s1">${player1.name}</span><span class="s6">`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>badge.style.background = player1.color;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p1Card'</span><span class="s1">).classList.add(</span><span class="s6">'active'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} </span><span class="s8">else</span><span class="s1"> {</span></p>
<p class="p14"><span class="s7"><span class="Apple-converted-space">Â  Â  Â  Â  </span>badge.innerHTML = </span><span class="s6">`SÄ±ra: </span><span class="s1">${player2.flag}</span><span class="s6"> </span><span class="s1">${player2.name}</span><span class="s6">`</span><span class="s7">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>badge.style.background = player2.color;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s10">document</span><span class="s1">.getElementById(</span><span class="s6">'p2Card'</span><span class="s1">).classList.add(</span><span class="s6">'active'</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p10"><span class="s1">// --- EFEKTLER ---</span></p>
<p class="p6"><span class="s8">let</span><span class="s1"> particles = [];</span></p>
<p class="p6"><span class="s8">function</span><span class="s1"> </span><span class="s11">spawnParticles</span><span class="s1">(x,y,c, count=</span><span class="s5">20</span><span class="s1">) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">for</span><span class="s1">(</span><span class="s8">let</span><span class="s1"> i=</span><span class="s5">0</span><span class="s1">;i&lt;count;i++) particles.push({</span><span class="s5">x</span><span class="s1">:x,</span><span class="s5">y</span><span class="s1">:y,</span><span class="s5">vx</span><span class="s1">:(</span><span class="s10">Math</span><span class="s1">.random()-</span><span class="s5">.5</span><span class="s1">)*</span><span class="s5">15</span><span class="s1">,</span><span class="s5">vy</span><span class="s1">:(</span><span class="s10">Math</span><span class="s1">.random()-</span><span class="s5">.5</span><span class="s1">)*</span><span class="s5">15</span><span class="s1">,</span><span class="s5">life</span><span class="s1">:</span><span class="s5">1</span><span class="s1">,</span><span class="s5">c</span><span class="s1">:c});</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p11"><span class="s1">function</span><span class="s7"> </span><span class="s11">loopFx</span><span class="s7">() {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>ctxFx.clearRect(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,fxCanvas.width,fxCanvas.height);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>particles.forEach(p=&gt;{</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>p.x+=p.vx; p.y+=p.vy; p.life-=</span><span class="s5">0.04</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctxFx.globalAlpha=p.life; ctxFx.fillStyle=p.c;<span class="Apple-converted-space">Â </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctxFx.beginPath(); ctxFx.arc(p.x,p.y,</span><span class="s5">4</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s10">Math</span><span class="s1">.PI*</span><span class="s5">2</span><span class="s1">); ctxFx.fill();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>});</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>particles=particles.filter(p=&gt;p.life&gt;</span><span class="s5">0</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>requestAnimationFrame(loopFx);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p6"><span class="s1">loopFx();</span></p>
<p class="p9"><span class="s1"></span><br></p>
<p class="p7"><span class="s7">&lt;/</span><span class="s1">script</span><span class="s7">&gt;</span></p>
<p class="p7"><span class="s7">&lt;/</span><span class="s1">body</span><span class="s7">&gt;</span></p>
<p class="p7"><span class="s7">&lt;/</span><span class="s1">html</span><span class="s7">&gt;</span></p>
</body>
</html>
